{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nexport class DashboardComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.tasks = [];\n    this.isEditing = false;\n    this.taskToEdit = null;\n    this.loading = false;\n    this.taskForm = this.fb.group({\n      title: ['', Validators.required],\n      description: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    // Aquí puedes cargar las tareas desde una base de datos (simulado con localStorage)\n    const savedTasks = localStorage.getItem('tasks');\n    if (savedTasks) {\n      this.tasks = JSON.parse(savedTasks);\n    }\n  }\n  addTask() {\n    if (this.isEditing && this.taskToEdit) {\n      // Editar tarea existente\n      const index = this.tasks.findIndex(t => t.id === this.taskToEdit?.id);\n      if (index !== -1) {\n        this.tasks[index] = {\n          ...this.taskToEdit,\n          ...this.taskForm.value\n        };\n      }\n      this.isEditing = false;\n      this.taskToEdit = null;\n    } else {\n      // Agregar nueva tarea\n      const newTask = {\n        id: \"\",\n        title: this.taskForm.value.title,\n        description: this.taskForm.value.description,\n        creation_date: new Date(),\n        completed: false\n      };\n      this.tasks.push(newTask);\n    }\n    this.saveTasks();\n    this.taskForm.reset();\n  }\n  toggleTaskStatus(task) {\n    task.completed = !task.completed;\n    this.saveTasks();\n  }\n  editTask(task) {\n    this.isEditing = true;\n    this.taskToEdit = task;\n    this.taskForm.patchValue(task);\n  }\n  deleteTask(id) {\n    this.tasks = this.tasks.filter(task => task.id !== id);\n    this.saveTasks();\n  }\n  saveTasks() {\n    localStorage.setItem('tasks', JSON.stringify(this.tasks));\n  }\n  logout() {\n    // Simula el cierre de sesión\n    alert('Cerrando sesión...');\n    // Redirigir al inicio de sesión (puedes usar el Router aquí)\n  }\n\n  static {\n    this.ɵfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"app-dashboard\"]],\n      decls: 0,\n      vars: 0,\n      template: function DashboardComponent_Template(rf, ctx) {},\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["Validators","DashboardComponent","constructor","fb","tasks","isEditing","taskToEdit","loading","taskForm","group","title","required","description","ngOnInit","savedTasks","localStorage","getItem","JSON","parse","addTask","index","findIndex","t","id","value","newTask","creation_date","Date","completed","push","saveTasks","reset","toggleTaskStatus","task","editTask","patchValue","deleteTask","filter","setItem","stringify","logout","alert","i0","ɵɵdirectiveInject","i1","FormBuilder","selectors","decls","vars","template","DashboardComponent_Template","rf","ctx","encapsulation"],"sources":["C:\\Users\\jdzea\\Desktop\\Atom Challenge\\solution\\frontend\\src\\app\\pages\\dashboard\\dashboard.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Task } from 'src/app/types/task.type';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html'\n})\nexport class DashboardComponent {\n  taskForm: FormGroup;\n  tasks: Task[] = [];\n  isEditing: boolean = false;\n  taskToEdit: Task | null = null;\n  loading: boolean = false;\n\n  constructor(private fb: FormBuilder) {\n    this.taskForm = this.fb.group({\n      title: ['', Validators.required],\n      description: ['', Validators.required],\n    });\n  }\n\n  ngOnInit(): void {\n    // Aquí puedes cargar las tareas desde una base de datos (simulado con localStorage)\n    const savedTasks = localStorage.getItem('tasks');\n    if (savedTasks) {\n      this.tasks = JSON.parse(savedTasks);\n    }\n  }\n\n  addTask(): void {\n    if (this.isEditing && this.taskToEdit) {\n      // Editar tarea existente\n      const index = this.tasks.findIndex((t) => t.id === this.taskToEdit?.id);\n      if (index !== -1) {\n        this.tasks[index] = {\n          ...this.taskToEdit,\n          ...this.taskForm.value,\n        };\n      }\n      this.isEditing = false;\n      this.taskToEdit = null;\n    } else {\n      // Agregar nueva tarea\n      const newTask: Task = {\n        id: \"\",\n        title: this.taskForm.value.title,\n        description: this.taskForm.value.description,\n        creation_date: new Date(),\n        completed: false,\n      };\n      this.tasks.push(newTask);\n    }\n\n    this.saveTasks();\n    this.taskForm.reset();\n  }\n\n  toggleTaskStatus(task: Task): void {\n    task.completed = !task.completed;\n    this.saveTasks();\n  }\n\n  editTask(task: Task): void {\n    this.isEditing = true;\n    this.taskToEdit = task;\n    this.taskForm.patchValue(task);\n  }\n\n  deleteTask(id: string): void {\n    this.tasks = this.tasks.filter((task) => task.id !== id);\n    this.saveTasks();\n  }\n\n  saveTasks(): void {\n    localStorage.setItem('tasks', JSON.stringify(this.tasks));\n  }\n\n  logout(): void {\n    // Simula el cierre de sesión\n    alert('Cerrando sesión...');\n    // Redirigir al inicio de sesión (puedes usar el Router aquí)\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}